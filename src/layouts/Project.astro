---
import type { CollectionEntry } from 'astro:content';
import BaseHead from '../components/BaseHead.astro';
import Header from '../components/Header.astro';
import Footer from '../components/Footer.astro';

type Props = CollectionEntry<'projects'>['data'];

const { title, type, year, image, image_alt, additional_images, video, client } = Astro.props;
console.log(additional_images)
---
<!doctype html>
<html>
<BaseHead />

<body>
  <Header />
  <div class="container">
      <section class="product">
      <div class="product-image">
        <img src={image} alt={image_alt}>
        { additional_images && additional_images.map((i) => <img src={i}>) }
        { video && <iframe width="100%" height="315" src={video} frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe> }
      </div>
      <div class="product-info">
        <h1>{title}</h1>
        <div class="product-text">
          <h2>{year}</h2>
          <p>
            <slot />
          </p>
        </div>
        <div class="product-spec">
          <h2>Project type</h2>
          <p>{type}</p>
        </div>
        <div class="product-spec">
          <h2>Client</h2>
          <p>{client}</p>
        </div>
      </div>
    </section>
  </div>
<Footer />
